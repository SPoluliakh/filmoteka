{"version":3,"file":"static/js/337.10851a98.chunk.js","mappings":"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","sources":["Utils/LocalStorage.js","components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.jsx","components/Link/Link.styled.js","components/Link/Link.jsx","Pages/FilmDetails.jsx"],"sourcesContent":["export const getLocalStorage = key => {\n  try {\n    const savedMovies = JSON.parse(localStorage.getItem(key)) ?? [];\n    return savedMovies;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const setLocalStorage = (key, item) => {\n  const myMovies = getLocalStorage(key);\n\n  let data;\n  let IsInFavorite;\n  if (myMovies.some(({ data }) => data.id === item.data.id)) {\n    data = myMovies.filter(({ data }) => data.id !== item.data.id);\n    IsInFavorite = false;\n  } else {\n    data = [...myMovies, item];\n    IsInFavorite = true;\n  }\n  localStorage.setItem(key, JSON.stringify(data));\n  return IsInFavorite;\n};\n","import styled from 'styled-components';\n\nexport const CardWrap = styled.div`\n  padding-left: ${p => p.theme.space[7]}px;\n  padding-right: ${p => p.theme.space[7]}px;\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  margin-bottom: ${p => p.theme.space[3]}px;\n`;\n\nexport const CardImg = styled.img`\n  margin-right: ${p => p.theme.space[3]}px;\n  border-radius: ${p => p.theme.radii.normal};\n`;\n\nexport const CardTitle = styled.h1`\n  margin: 0 0 ${p => p.theme.space[3]}px 0;\n  color: ${p => p.theme.colors.description};\n`;\n\nexport const CardSubTitle = styled.h2`\n  margin: 0 0 ${p => p.theme.space[1]}px 0;\n  color: ${p => p.theme.colors.description};\n  font-size: ${p => p.theme.fontSizes.m}px;\n`;\n\nexport const CardText = styled.p`\n  margin: 0 0 ${p => p.theme.space[3]}px 0;\n  color: ${p => p.theme.colors.description};\n  font-size: ${p => p.theme.fontSizes.s}px;\n`;\n\nexport const CardList = styled.ul`\n  list-style: none;\n  padding: ${p => p.theme.space[0]}px;\n  margin: 0 0 ${p => p.theme.space[5]}px 0;\n  color: ${p => p.theme.colors.description};\n  font-size: ${p => p.theme.fontSizes.s}px;\n`;\n\nexport const AddButton = styled.button`\n  cursor: pointer;\n  font-family: inherit;\n  padding: ${p => p.theme.space[2]}px;\n  font-size: ${p => p.theme.fontSizes.s}px;\n  font-weight: ${p => p.theme.fontWeights.medium};\n  box-shadow: ${p => p.theme.shadows.boxShadow};\n  text-shadow: ${p => p.theme.shadows.textShadow};\n  border-radius: ${p => p.theme.radii.normal};\n  color: ${p => p.theme.colors.activeText};\n  background-color: ${p => {\n    return p.children === 'Add to Library'\n      ? p.theme.colors.headerBcg\n      : p.theme.colors.navBcg;\n  }};\n\n  transition: background-color 250ms linear;\n\n  :hover {\n    background-color: ${p => {\n      return p.children === 'Add to Library'\n        ? p.theme.colors.navBcg\n        : p.theme.colors.headerBcg;\n    }};\n  }\n`;\n","import { useState, useRef, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { setLocalStorage, getLocalStorage } from 'Utils/LocalStorage';\nimport NoImg from '../../components/NoImg/no-photo.png';\nimport * as SC from './MovieCard.styled';\nimport PropTypes from 'prop-types';\n\nexport const MovieCard = ({\n  genres,\n  overview,\n  popularity,\n  title,\n  poster_path,\n  filmDetails,\n  release_date,\n}) => {\n  const favorite = useRef('myFilms');\n  const { filmId } = useParams();\n  const [isInFavorite, setIsInFavorite] = useState(false);\n\n  useEffect(() => {\n    const savedMovies = getLocalStorage(favorite.current);\n    if (\n      savedMovies &&\n      savedMovies.some(({ data }) => data.id === Number(filmId))\n    ) {\n      setIsInFavorite(true);\n    }\n  }, [filmId]);\n\n  const AddToFavotite = () => {\n    const isInFavorite = setLocalStorage(favorite.current, filmDetails);\n    setIsInFavorite(isInFavorite);\n  };\n  return (\n    <SC.CardWrap>\n      <SC.CardImg\n        src={\n          poster_path\n            ? `https://image.tmdb.org/t/p/original/${poster_path}`\n            : NoImg\n        }\n        alt={title}\n        style={{ width: '300px' }}\n      />\n      <div>\n        <SC.CardTitle>\n          {title} {`(${release_date.slice(0, 4)})`}\n        </SC.CardTitle>\n        <SC.CardSubTitle>Rating: </SC.CardSubTitle>\n        <SC.CardText>{Math.round(popularity * 10)}%</SC.CardText>\n        <SC.CardSubTitle>Overview: </SC.CardSubTitle>\n        <SC.CardText>{overview}</SC.CardText>\n        <SC.CardSubTitle>Genres: </SC.CardSubTitle>\n        <SC.CardList>\n          {genres.map(({ name }) => (\n            <li key={name}> {name} </li>\n          ))}\n        </SC.CardList>\n        <SC.AddButton type=\"button\" onClick={AddToFavotite}>\n          {isInFavorite ? 'Remove from Favorite' : 'Add to Favorite'}\n        </SC.AddButton>\n      </div>\n    </SC.CardWrap>\n  );\n};\n\nMovieCard.propTypes = {\n  genres: PropTypes.array,\n  overview: PropTypes.string,\n  popularity: PropTypes.number,\n  title: PropTypes.string,\n  poster_path: PropTypes.string,\n  filmDetails: PropTypes.object,\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const LinkTo = styled(NavLink)`\n  position: relative;\n  display: inline-block;\n  text-decoration: none;\n  color: ${p => p.theme.colors.primary};\n  text-shadow: ${p => p.theme.shadows.textShadow};\n  margin-bottom: ${p => p.theme.space[3]}px;\n  font-size: ${p => p.theme.fontSizes.m}px;\n  font-weight: ${p => p.theme.fontWeights.medium};\n\n  &.active {\n    color: ${p => p.theme.colors.headerBcg};\n  }\n\n  transition: color 300ms linear;\n  :hover {\n    color: ${p => p.theme.colors.headerBcg};\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    right: 0;\n    width: 100%;\n    height: 2px;\n    background-color: ${p => p.theme.colors.headerBcg};\n    scale: 0;\n    transition: scale 300ms linear;\n  }\n  &:hover::after {\n    scale: 1;\n  }\n\n  &.active::after {\n    scale: 1;\n  }\n\n  & + a {\n    margin-left: ${p => p.theme.space[3]}px;\n  }\n`;\n","import * as SC from './Link.styled';\nimport PropTypes from 'prop-types';\n\nexport const LinkTo = ({ path, children }) => {\n  return <SC.LinkTo to={path}> {children}</SC.LinkTo>;\n};\n\nLinkTo.propTypes = {\n  path: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  children: PropTypes.node,\n};\n","import { Suspense } from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport { fetchById } from 'Utils/Fetch';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { MovieCard } from 'components/MovieCard/MovieCard';\nimport { LinkTo } from 'components/Link/Link';\nimport { Box } from 'Utils/Box';\nimport Spiner from 'components/Spiner/Spiner';\nimport { NoInfoText } from '../components/NoInfo/NoInfo';\n\nexport const FilmDetails = () => {\n  const [loader, setLoader] = useState(null);\n  const [filmDetails, setFilmDetails] = useState(null);\n  const { filmId } = useParams();\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n  const backLocation = useRef(backLinkHref);\n\n  useEffect(() => {\n    setLoader('pending');\n    fetchById(filmId)\n      .then(data => {\n        setFilmDetails(data);\n        setLoader('resolve');\n      })\n      .catch(err => {\n        console.log(err);\n        setLoader('rejected');\n      });\n  }, [filmId]);\n\n  if (!filmDetails) {\n    return;\n  }\n\n  const { title, vote_average, overview, genres, poster_path, release_date } =\n    filmDetails.data;\n  return (\n    <>\n      {loader === 'pending' && <Spiner />}\n      {loader === 'resolve' && (\n        <Box as=\"main\" pt={6}>\n          <LinkTo path={backLocation.current}> Go back </LinkTo>\n          <MovieCard\n            title={title}\n            popularity={vote_average}\n            overview={overview}\n            genres={genres}\n            poster_path={poster_path}\n            filmDetails={filmDetails}\n            release_date={release_date}\n          />\n          <LinkTo path=\"cast\"> Cast </LinkTo>\n          <LinkTo path=\"reviews\"> Reviews </LinkTo>\n          <LinkTo path=\"trailers\"> Trailers </LinkTo>\n\n          <Suspense fallback={null}>\n            <Outlet />\n          </Suspense>\n        </Box>\n      )}\n\n      {loader === 'rejected' ||\n        (!filmDetails.data && (\n          <NoInfoText>\n            There are no movies matching your search, please try another\n            keyword.\n          </NoInfoText>\n        ))}\n    </>\n  );\n};\n"],"names":["getLocalStorage","key","JSON","parse","localStorage","getItem","error","console","log","message","CardWrap","styled","p","theme","space","CardImg","radii","normal","CardTitle","colors","description","CardSubTitle","fontSizes","m","CardText","s","CardList","AddButton","fontWeights","medium","shadows","boxShadow","textShadow","activeText","children","headerBcg","navBcg","MovieCard","genres","overview","popularity","title","poster_path","filmDetails","release_date","favorite","useRef","filmId","useParams","useState","isInFavorite","setIsInFavorite","useEffect","savedMovies","current","some","data","id","Number","src","NoImg","alt","style","width","slice","Math","round","map","name","type","onClick","item","IsInFavorite","myMovies","filter","setItem","stringify","setLocalStorage","LinkTo","NavLink","primary","path","to","FilmDetails","loader","setLoader","setFilmDetails","backLinkHref","useLocation","state","from","backLocation","fetchById","then","catch","err","vote_average","Spiner","Box","as","pt","Suspense","fallback","NoInfo"],"sourceRoot":""}